#!/usr/bin/env python3

converter = (
    ('gya', 'ぎゃ'),
    ('gyu', 'ぎゅ'),
    ('gyo', 'ぎょ'),
    ('ja', 'じゃ'),
    ('ju', 'じゅ'),
    ('jo', 'じょ'),
    # ('ja', 'ぢゃ'),
    # ('ju', 'ぢゅ'),
    # ('jo', 'ぢょ'),
    ('bya', 'びゃ'),
    ('byu', 'びゅ'),
    ('byo', 'びょ'),
    ('pya', 'ぴゃ'),
    ('pyu', 'ぴゅ'),
    ('pyo', 'ぴょ'),
    ('kya', 'きゃ'),
    ('kyu', 'きゅ'),
    ('kyo', 'きょ'),
    ('sha', 'しゃ'),
    ('shu', 'しゅ'),
    ('sho', 'しょ'),
    ('cha', 'ちゃ'),
    ('chu', 'ちゅ'),
    ('cho', 'ちょ'),
    ('nya', 'にゃ'),
    ('nyu', 'にゅ'),
    ('nyo', 'にょ'),
    ('hya', 'ひゃ'),
    ('hyu', 'ひゅ'),
    ('hyo', 'ひょ'),
    ('mya', 'みゃ'),
    ('myu', 'みゅ'),
    ('myo', 'みょ'),
    ('rya', 'りゃ'),
    ('ryu', 'りゅ'),
    ('ryo', 'りょ'),
    ('ga', 'が'),
    ('gi', 'ぎ'),
    ('gu', 'ぐ'),
    ('ge', 'げ'),
    ('go', 'ご'),
    ('za', 'ざ'),
    ('ji', 'じ'),
    ('zu', 'ず'),
    ('ze', 'ぜ'),
    ('zo', 'ぞ'),
    ('da', 'だ'),
    ('ji', 'ぢ'),
    ('zu', 'づ'),
    ('de', 'で'),
    ('do', 'ど'),
    ('ba', 'ば'),
    ('bi', 'び'),
    ('bu', 'ぶ'),
    ('be', 'べ'),
    ('bo', 'ぼ'),
    ('pa', 'ぱ'),
    ('pi', 'ぴ'),
    ('pu', 'ぷ'),
    ('pe', 'ぺ'),
    ('po', 'ぽ'),
    ('a', 'あ'),
    ('i', 'い'),
    ('u', 'う'),
    ('e', 'え'),
    ('o', 'お'),
    ('ka', 'か'),
    ('ki', 'き'),
    ('ku', 'く'),
    ('ke', 'け'),
    ('ko', 'こ'),
    ('sa', 'さ'),
    ('shi', 'し'),
    ('su', 'す'),
    ('se', 'せ'),
    ('so', 'そ'),
    ('ta', 'た'),
    ('chi', 'ち'),
    ('tsu', 'つ'),
    ('te', 'て'),
    ('to', 'と'),
    ('na', 'な'),
    ('ni', 'に'),
    ('nu', 'ぬ'),
    ('ne', 'ね'),
    ('no', 'の'),
    ('ha', 'は'),
    ('hi', 'ひ'),
    ('fu', 'ふ'),
    ('he', 'へ'),
    ('ho', 'ほ'),
    ('ma', 'ま'),
    ('mi', 'み'),
    ('mu', 'む'),
    ('me', 'め'),
    ('mo', 'も'),
    ('ya', 'や'),
    ('yu', 'ゆ'),
    ('yo', 'よ'),
    ('ra', 'ら'),
    ('ri', 'り'),
    ('ru', 'る'),
    ('re', 'れ'),
    ('ro', 'ろ'),
    ('wa', 'わ'),
    ('wo', 'を'),
    ('n', 'ん'),
    ('...', '…'),
    ('..', '‥'),
    ('.', '。'),
    (' ', ''),
    (',', '、'),
    ('{', '｛'),
    ('}', '｝'),
    ('(', '（'),
    (')', '）'),
    ('[', '［'),
    (']', '］'),
    ('~', '〜'),
    (':', '：'),
    ('!', '！'),
    ('?', '？'),
)

VALID_CHARS = 'abcdefghijklmnopqrstuvwxyz .,{}()[]~:?!'

def main():
    romaji = input('String to convert: ').lower()

    hiragana = ''

    while romaji:
        if romaji[0] not in VALID_CHARS:
            hiragana += romaji[0]
            romaji = romaji[1:]
        for i, j in converter:
            if romaji.startswith(i):
                hiragana += j
                romaji = romaji[len(i):]
                break
        else:
            print('Translation failed')
            break
    else:
        print(hiragana)

if __name__ == "__main__":
    main()
